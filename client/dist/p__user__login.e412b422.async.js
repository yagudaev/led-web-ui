(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[7],{"336r":function(e,a,t){e.exports={login:"antd-pro-pages-user-login-components-login-index-login",getCaptcha:"antd-pro-pages-user-login-components-login-index-getCaptcha",icon:"antd-pro-pages-user-login-components-login-index-icon",other:"antd-pro-pages-user-login-components-login-index-other",register:"antd-pro-pages-user-login-components-login-index-register",prefixIcon:"antd-pro-pages-user-login-components-login-index-prefixIcon",submit:"antd-pro-pages-user-login-components-login-index-submit"}},"3T1H":function(e,a,t){"use strict";t.r(a);t("sRBo");var n=t("kaz8"),r=t("p0pE"),c=t.n(r),s=t("qIgq"),o=t.n(s),i=(t("fOrg"),t("+KLJ")),l=t("Y0UT"),u=t("80zm"),m=t("CZrw"),p=t("q1tI"),g=t.n(p),d=t("55Ip"),b=t("/MKj"),f=t("d40l"),h=t.n(f),E=(t("Znn+"),t("ZTPi")),v=(t("y8nQ"),t("Vl3Y")),C=t("gWZ8"),y=t.n(C),x=t("yUgw"),w=t("TSYQ"),N=t.n(w),j=Object(p["createContext"])({}),O=j,T=(t("+L6B"),t("2/Rp")),P=(t("5NDa"),t("5rEg")),I=(t("jCWc"),t("kPKH")),S=(t("14J3"),t("BMrR")),k=t("d6i3"),U=t.n(k),q=(t("miYZ"),t("tsqr")),z=t("1l/V"),B=t.n(z),L=t("Y/ft"),M=t.n(L),V=t("BGR+"),J=t("cJ7L"),K=t("MGYb"),Y=t("FQ2w"),A=t("cGnJ"),D=t("336r"),Z=t.n(D),F={UserName:{props:{size:"large",id:"userName",prefix:g.a.createElement(J["a"],{style:{color:"#1890ff"},className:Z.a.prefixIcon}),placeholder:"admin"},rules:[{required:!0,message:"Please enter username!"}]},Password:{props:{size:"large",prefix:g.a.createElement(K["a"],{className:Z.a.prefixIcon}),type:"password",id:"password",placeholder:"888888"},rules:[{required:!0,message:"Please enter password!"}]},Mobile:{props:{size:"large",prefix:g.a.createElement(Y["a"],{className:Z.a.prefixIcon}),placeholder:"mobile number"},rules:[{required:!0,message:"Please enter mobile number!"},{pattern:/^1\d{10}$/,message:"Wrong mobile number format!"}]},Captcha:{props:{size:"large",prefix:g.a.createElement(A["a"],{className:Z.a.prefixIcon}),placeholder:"captcha"},rules:[{required:!0,message:"Please enter Captcha!"}]}},G=t("63rs"),R=v["a"].Item,Q=function(e){var a=e.onChange,t=e.defaultValue,n=e.customProps,r=void 0===n?{}:n,c=e.rules,s={rules:c||r.rules};return a&&(s.onChange=a),t&&(s.initialValue=t),s},W=function(e){var a=Object(p["useState"])(e.countDown||0),t=o()(a,2),n=t[0],r=t[1],c=Object(p["useState"])(!1),s=o()(c,2),i=s[0],l=s[1],u=(e.onChange,e.customProps),m=(e.defaultValue,e.rules,e.name),d=(e.getCaptchaButtonText,e.getCaptchaSecondText,e.updateActive,e.type),b=(e.tabUtil,M()(e,["onChange","customProps","defaultValue","rules","name","getCaptchaButtonText","getCaptchaSecondText","updateActive","type","tabUtil"])),f=Object(p["useCallback"])(function(){var e=B()(U.a.mark(function e(a){var t;return U.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(G["b"])(a);case 2:if(t=e.sent,!1!==t){e.next=5;break}return e.abrupt("return");case 5:q["a"].success("\u83b7\u53d6\u9a8c\u8bc1\u7801\u6210\u529f\uff01\u9a8c\u8bc1\u7801\u4e3a\uff1a1234"),l(!0);case 7:case"end":return e.stop()}},e)}));return function(a){return e.apply(this,arguments)}}(),[]);if(Object(p["useEffect"])(function(){var a=0,t=e.countDown;return i&&(a=window.setInterval(function(){r(function(e){return e<=1?(l(!1),clearInterval(a),t||60):e-1})},1e3)),function(){return clearInterval(a)}},[i]),!m)return null;var h=Q(e),E=b||{};if("Captcha"===d){var v=Object(V["a"])(E,["onGetCaptcha","countDown"]);return g.a.createElement(R,{shouldUpdate:!0},function(e){var a=e.getFieldValue;return g.a.createElement(S["a"],{gutter:8},g.a.createElement(I["a"],{span:16},g.a.createElement(R,Object.assign({name:m},h),g.a.createElement(P["a"],Object.assign({},u,v)))),g.a.createElement(I["a"],{span:8},g.a.createElement(T["a"],{disabled:i,className:Z.a.getCaptcha,size:"large",onClick:function(){var e=a("mobile");f(e)}},i?"".concat(n," \u79d2"):"\u83b7\u53d6\u9a8c\u8bc1\u7801")))})}return g.a.createElement(R,Object.assign({name:m},h),g.a.createElement(P["a"],Object.assign({},u,E)))},H={};Object.keys(F).forEach(function(e){var a=F[e];H[e]=function(t){return g.a.createElement(O.Consumer,null,function(n){return g.a.createElement(W,Object.assign({customProps:a.props,rules:a.rules},t,{type:e},n,{updateActive:n.updateActive}))})}});var $=H,X=v["a"].Item,_=function(e){var a=e.className,t=M()(e,["className"]),n=N()(Z.a.submit,a);return g.a.createElement(X,null,g.a.createElement(T["a"],Object.assign({size:"large",className:n,type:"primary",htmlType:"submit"},t)))},ee=_,ae=E["a"].TabPane,te=function(){var e=0;return function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e+=1,"".concat(a).concat(e)}}(),ne=function(e){Object(p["useEffect"])(function(){var a=te("login-tab-"),t=e.tabUtil;t&&t.addTab(a)},[]);var a=e.children;return g.a.createElement(ae,Object.assign({},e),a)},re=function(e){return g.a.createElement(O.Consumer,null,function(a){return g.a.createElement(ne,Object.assign({tabUtil:a.tabUtil},e))})};re.typeName="LoginTab";var ce=re,se=function(e){var a=e.className,t=Object(p["useState"])([]),n=o()(t,2),r=n[0],c=n[1],s=Object(p["useState"])(),i=o()(s,2),l=i[0],u=i[1],m=Object(x["a"])("",{value:e.activeKey,onChange:e.onTabChange}),d=o()(m,2),b=d[0],f=d[1],h=[],C=[];return g.a.Children.forEach(e.children,function(e){e&&("LoginTab"===e.type.typeName?h.push(e):C.push(e))}),g.a.createElement(O.Provider,{value:{tabUtil:{addTab:function(e){c([].concat(y()(r),[e]))},removeTab:function(e){c(r.filter(function(a){return a!==e}))}},updateActive:function(e){l[b]?l[b].push(e):l[b]=[e],u(l)}}},g.a.createElement("div",{className:N()(a,Z.a.login)},g.a.createElement(v["a"],{form:e.from,onFinish:function(a){e.onSubmit&&e.onSubmit(a)}},r.length?g.a.createElement(g.a.Fragment,null,g.a.createElement(E["a"],{animated:!1,className:Z.a.tabs,activeKey:b,onChange:function(e){f(e)}},h),C):e.children)))};se.Tab=ce,se.Submit=ee,se.UserName=$.UserName,se.Password=$.Password,se.Mobile=$.Mobile,se.Captcha=$.Captcha;var oe=se,ie=oe.Tab,le=oe.UserName,ue=oe.Password,me=oe.Mobile,pe=oe.Captcha,ge=oe.Submit,de=function(e){var a=e.content;return g.a.createElement(i["a"],{style:{marginBottom:24},message:a,type:"error",showIcon:!0})},be=function(e){var a=e.userLogin,t=void 0===a?{}:a,r=e.submitting,s=t.status,i=t.type,b=Object(p["useState"])(!0),f=o()(b,2),E=f[0],v=f[1],C=Object(p["useState"])("account"),y=o()(C,2),x=y[0],w=y[1],N=function(a){var t=e.dispatch;t({type:"login/login",payload:c()({},a,{type:x})})};return g.a.createElement("div",{className:h.a.main},g.a.createElement(oe,{activeKey:x,onTabChange:w,onSubmit:N},g.a.createElement(ie,{key:"account",tab:"\u8d26\u6237\u5bc6\u7801\u767b\u5f55"},"error"===s&&"account"===i&&!r&&g.a.createElement(de,{content:"\u8d26\u6237\u6216\u5bc6\u7801\u9519\u8bef\uff08admin/ant.design\uff09"}),g.a.createElement(le,{name:"userName",placeholder:"\u7528\u6237\u540d: admin or user",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u7528\u6237\u540d!"}]}),g.a.createElement(ue,{name:"password",placeholder:"\u5bc6\u7801: ant.design",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5bc6\u7801\uff01"}]})),g.a.createElement(ie,{key:"mobile",tab:"\u624b\u673a\u53f7\u767b\u5f55"},"error"===s&&"mobile"===i&&!r&&g.a.createElement(de,{content:"\u9a8c\u8bc1\u7801\u9519\u8bef"}),g.a.createElement(me,{name:"mobile",placeholder:"\u624b\u673a\u53f7",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u624b\u673a\u53f7\uff01"},{pattern:/^1\d{10}$/,message:"\u624b\u673a\u53f7\u683c\u5f0f\u9519\u8bef\uff01"}]}),g.a.createElement(pe,{name:"captcha",placeholder:"\u9a8c\u8bc1\u7801",countDown:120,getCaptchaButtonText:"",getCaptchaSecondText:"\u79d2",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801\uff01"}]})),g.a.createElement("div",null,g.a.createElement(n["a"],{checked:E,onChange:function(e){return v(e.target.checked)}},"\u81ea\u52a8\u767b\u5f55"),g.a.createElement("a",{style:{float:"right"}},"\u5fd8\u8bb0\u5bc6\u7801")),g.a.createElement(ge,{loading:r},"\u767b\u5f55"),g.a.createElement("div",{className:h.a.other},"\u5176\u4ed6\u767b\u5f55\u65b9\u5f0f",g.a.createElement(l["a"],{className:h.a.icon}),g.a.createElement(u["a"],{className:h.a.icon}),g.a.createElement(m["a"],{className:h.a.icon}),g.a.createElement(d["Link"],{className:h.a.register,to:"/user/register"},"\u6ce8\u518c\u8d26\u6237"))))};a["default"]=Object(b["c"])(function(e){var a=e.login,t=e.loading;return{userLogin:a,submitting:t.effects["login/login"]}})(be)},d40l:function(e,a,t){e.exports={main:"antd-pro-pages-user-login-style-main",icon:"antd-pro-pages-user-login-style-icon",other:"antd-pro-pages-user-login-style-other",register:"antd-pro-pages-user-login-style-register"}}}]);